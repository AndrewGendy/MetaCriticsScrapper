<!DOCTYPE html>
<html lang="en" class="h-100">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Metacritic Scraper</title>
        <!-- Include jQuery -->
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <!-- Bootstrap 5 CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
              rel="stylesheet">
        <!-- Include my CSS -->
        <link rel="stylesheet" href="resources/css/styles.css">
        <!-- Include my JS -->
        <script src="resources/js/scripts.js"></script>
    </head>
    <body class="d-flex flex-column h-100">
        <div class="mt-4 m-4">
            <h1 class="text-center">Welcome to the Metacritic Scraper</h1>
            <h2 class="text-center">
                <b><i>Please wait a few seconds after clicking the submit button!</i></b>
            </h2>
        </div>
        <div class="row container-fluid flex-shrink-0">
            <!-- Sidebar for Filters and Sorting -->
            <div class="col-xl-3" id="filtersSidebar">
                <form id="filtersForm" class="mb-3">
                    <div class="row">
                        <!-- Search Bar and Buttons -->
                        <div class="input-group mb-3">
                            <input type="text"
                                   id="searchBar"
                                   class="form-control me-1"
                                   placeholder="Search by Title...">
                        </div>
                        <!-- Media Type Dropdown -->
                        <div class="col-lg-3 form-group">
                            <label for="mediaType">Media Type:</label>
                            <select name="mediaType" id="mediaType" class="form-control">
                                <option value="game">Game</option>
                                <option value="movie">Movie</option>
                                <option value="tv">TV</option>
                            </select>
                        </div>
                        <!-- Platforms Dropdown -->
                        <div class="col-lg-5 form-group" id="gamePlatformsDiv">
                            <label for="platforms">Platforms:</label>
                            <select name="platforms" id="platforms" class="form-control">
                                <option value=""></option>
                                <!-- I changed the code to instead of having 3 divs one for each media platforms to only one div for platforms and change the values using jQuery. -->
                                <!-- It's more dynamic and can be easily extended to handle more media types or platforms in the future. AND less html is always nice :) -->
                            </select>
                        </div>
                        <!-- Genres Dropdown -->
                        <div class="col-lg-4 form-group" id="genresDiv">
                            <label for="genres">Genres:</label>
                            <select name="genres" id="genres" class="form-control">
                                <option value=""></option>
                                <!-- Add Other Genres as needed. (Handleing different genres for different media types same way as platforms) -->
                            </select>
                        </div>
                        <!-- Basic Filters -->
                        <div class="col-lg-6 form-group" id="metascoreDiv">
                            <label for="min-metascore">Min Metascore:</label>
                            <input type="number"
                                   id="min-metascore"
                                   class="form-control"
                                   placeholder="min 0">
                            <label for="year">Min Year:</label>
                            <input type="number"
                                   id="after-year"
                                   class="form-control"
                                   placeholder="e.g. 1995">
                        </div>
                        <div class="col-lg-6 form-group" id="yearDiv">
                            <label for="max-metascore">Max Metascore:</label>
                            <input type="number"
                                   id="max-metascore"
                                   class="form-control"
                                   placeholder="max 100">
                            <label for="year">Max Year:</label>
                            <input type="number"
                                   id="before-year"
                                   class="form-control"
                                   placeholder="e.g. 2020">
                        </div>
                        <!-- Sorting -->
                        <div class="col-lg-12 form-group" id="sortingDiv">
                            <label for="sortOptions">Sort By:</label>
                            <select id="sortOptions" class="form-control">
                                <option value="default">Default</option>
                                <option value="metascore_asc">Metascore Ascending</option>
                                <option value="metascore_desc">Metascore Descending</option>
                                <option value="year_asc">Year Ascending</option>
                                <option value="year_desc">Year Descending</option>
                            </select>
                        </div>
                        <div class="mt-3">
                            <button type="button" id="scrapeDataBtn" class="btn btn-primary me-1">Scrape New Data</button>
                            <button type="button" id="showFilteredDataBtn" class="btn btn-secondary me-1">Filter Local Data</button>
                            <button type="button" id="showDataBtn" class="btn btn-secondary me-1">All Local Data</button>
                            <!-- <button type="button" id="dropTablesBtn" class="btn btn-secondary me-1">Drop Tables</button>
                            <button type="button" id="simpleQueryBtn" class="btn btn-secondary">SQuery</button> -->
                        </div>
                    </div>
                </form>
            </div>
            <!-- Main Content Area -->
            <div class="col-xl-8 ms-4">
                <div id="results"></div>
                <table id="resultsTable" class="table table-bordered table-striped">
                    <tbody>
                        <!-- Rows will be added here by JavaScript -->
                    </tbody>
                </table>
            </div>
            <div id="loader" class="loader"></div>
        </div>
        <!-- Start Footer -->
        <footer class="footer bg-light mt-auto">
            <div class="text-center p-1" style="background-color: rgba(0, 0, 0, 0.2);">
                <p class="text-dark my-0">Â© 2023 Andrew Gendy | School Project for CSC521 at Kutztown University | Version 1.0</p>
            </div>
        </footer>
    </body>
</html>
